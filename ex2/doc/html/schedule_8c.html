<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>randsched: /home/ad/Documents/BtrSysteme/ex2/src/schedule.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">randsched
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">...</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">schedule.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This Program repeatedly executes a program parsed by command line argument as it's grandchild. The interval within the program should be executed can also be set as command line argument. If the program fails, an emergency program, provided by the user, is executed once. All output of the users program and emergency program is written on stdout. All output of the users program on stdout is written to the File.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;strings.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarguments.html">arguments</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae537fef967d9fbfad304aec7b2b85948"><td class="memItemLeft" align="right" valign="top"><a id="ae537fef967d9fbfad304aec7b2b85948"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COUNT_OF</b>(x)&#160;&#160;&#160;(sizeof(x)/sizeof(x[0]))</td></tr>
<tr class="separator:ae537fef967d9fbfad304aec7b2b85948"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0a71a5197f7d9352206a931fd7c9080"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structarguments.html">arguments</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#ac0a71a5197f7d9352206a931fd7c9080">parse_args</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:ac0a71a5197f7d9352206a931fd7c9080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse command line options and/or sets default values. Calls usage if arguments parsed are incorrect.  <a href="#ac0a71a5197f7d9352206a931fd7c9080">More...</a><br /></td></tr>
<tr class="separator:ac0a71a5197f7d9352206a931fd7c9080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a6014565bb3e03294ec4a952d5add0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a64a6014565bb3e03294ec4a952d5add0">usage</a> ()</td></tr>
<tr class="memdesc:a64a6014565bb3e03294ec4a952d5add0"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints usage on stderr. Exits program with EXIT_FAILURE  <a href="#a64a6014565bb3e03294ec4a952d5add0">More...</a><br /></td></tr>
<tr class="separator:a64a6014565bb3e03294ec4a952d5add0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabff4ad2cc7d337835d19e94412d4299"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#aabff4ad2cc7d337835d19e94412d4299">bail_out</a> (int exitcode, const char *fmt,...)</td></tr>
<tr class="memdesc:aabff4ad2cc7d337835d19e94412d4299"><td class="mdescLeft">&#160;</td><td class="mdescRight">terminate program on program error. Prints info about the error.  <a href="#aabff4ad2cc7d337835d19e94412d4299">More...</a><br /></td></tr>
<tr class="separator:aabff4ad2cc7d337835d19e94412d4299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97d9d5060caaef4bc31e55aa3d92c76"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#ac97d9d5060caaef4bc31e55aa3d92c76">free_resources</a> (void)</td></tr>
<tr class="memdesc:ac97d9d5060caaef4bc31e55aa3d92c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">closes the file provided by the user.  <a href="#ac97d9d5060caaef4bc31e55aa3d92c76">More...</a><br /></td></tr>
<tr class="separator:ac97d9d5060caaef4bc31e55aa3d92c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306c92a9db24b8e8240561d8c96e3d61"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a306c92a9db24b8e8240561d8c96e3d61">getRandExTime</a> (int intervall, int offset)</td></tr>
<tr class="memdesc:a306c92a9db24b8e8240561d8c96e3d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns time until next execution of program  <a href="#a306c92a9db24b8e8240561d8c96e3d61">More...</a><br /></td></tr>
<tr class="separator:a306c92a9db24b8e8240561d8c96e3d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0449e5541e30c584bf3e656a29e7bf6c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a0449e5541e30c584bf3e656a29e7bf6c">create_Child</a> (struct <a class="el" href="structarguments.html">arguments</a> args)</td></tr>
<tr class="memdesc:a0449e5541e30c584bf3e656a29e7bf6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates a Child process and calls function create_grand_child. Reads from pipe p, prints output to stdout and writes to File provided by user.  <a href="#a0449e5541e30c584bf3e656a29e7bf6c">More...</a><br /></td></tr>
<tr class="separator:a0449e5541e30c584bf3e656a29e7bf6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9793adeabf482728c5ae019f0a4426"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a2c9793adeabf482728c5ae019f0a4426">create_grand_child</a> (struct <a class="el" href="structarguments.html">arguments</a> args, int parent_p[])</td></tr>
<tr class="memdesc:a2c9793adeabf482728c5ae019f0a4426"><td class="mdescLeft">&#160;</td><td class="mdescRight">executes "program" as grandchild in a loop and writes output of stdout to the parents pipe. "program" is executed, as long as it's exitcode is "EXIT_SUCCESS". Otherwise "emergency" is executed once as a child.  <a href="#a2c9793adeabf482728c5ae019f0a4426">More...</a><br /></td></tr>
<tr class="separator:a2c9793adeabf482728c5ae019f0a4426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6140bf6da3b415eced0d0a0cac43d7fa"><td class="memItemLeft" align="right" valign="top"><a id="a6140bf6da3b415eced0d0a0cac43d7fa"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a6140bf6da3b415eced0d0a0cac43d7fa">setup_signal_handler</a> (void)</td></tr>
<tr class="memdesc:a6140bf6da3b415eced0d0a0cac43d7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets up signal handler with SIGINT and SIGTERM <br /></td></tr>
<tr class="separator:a6140bf6da3b415eced0d0a0cac43d7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae710b6e1e3475f05843032f73a4dd7a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#ae710b6e1e3475f05843032f73a4dd7a7">signal_handler</a> (int sig)</td></tr>
<tr class="memdesc:ae710b6e1e3475f05843032f73a4dd7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">is executed on recieve of SIGINT or SIGTERM signal.  <a href="#ae710b6e1e3475f05843032f73a4dd7a7">More...</a><br /></td></tr>
<tr class="separator:ae710b6e1e3475f05843032f73a4dd7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">calls function parse_args, setup_signal_handler, create_Child, free_resources. Writes either "EMERGENCY SUCCESFULL" or "EMERGENCY FAILURE" to stdout and to the File parsed by command line. If a signal was caught, the signal ID is printed on stdout.  <a href="#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0b6d3439424a03ac9ad9ea40abb12021"><td class="memItemLeft" align="right" valign="top">volatile sig_atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a0b6d3439424a03ac9ad9ea40abb12021">quit</a> = 0</td></tr>
<tr class="separator:a0b6d3439424a03ac9ad9ea40abb12021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3efb0e1a16208deecbd84c15401f7cf8"><td class="memItemLeft" align="right" valign="top">static FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a></td></tr>
<tr class="separator:a3efb0e1a16208deecbd84c15401f7cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad785d8a8f8ff378aa21eb1fa7a6085df"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schedule_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a></td></tr>
<tr class="separator:ad785d8a8f8ff378aa21eb1fa7a6085df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This Program repeatedly executes a program parsed by command line argument as it's grandchild. The interval within the program should be executed can also be set as command line argument. If the program fails, an emergency program, provided by the user, is executed once. All output of the users program and emergency program is written on stdout. All output of the users program on stdout is written to the File. </p>
<dl class="section author"><dt>Author</dt><dd>Aaron Duxler 1427540 <a href="#" onclick="location.href='mai'+'lto:'+'e14'+'27'+'540'+'@s'+'tud'+'en'+'t.t'+'uw'+'ien'+'.a'+'c.a'+'t'; return false;">e1427<span style="display: none;">.nosp@m.</span>540@<span style="display: none;">.nosp@m.</span>stude<span style="display: none;">.nosp@m.</span>nt.t<span style="display: none;">.nosp@m.</span>uwien<span style="display: none;">.nosp@m.</span>.ac.<span style="display: none;">.nosp@m.</span>at</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16.04.2017 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aabff4ad2cc7d337835d19e94412d4299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabff4ad2cc7d337835d19e94412d4299">&#9670;&nbsp;</a></span>bail_out()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bail_out </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exitcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>terminate program on program error. Prints info about the error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exitcode</td><td>exit code </td></tr>
    <tr><td class="paramname">fmt</td><td>format string</td></tr>
  </table>
  </dd>
</dl>
<p>global variable: progname global variable: progname </p>

</div>
</div>
<a id="a0449e5541e30c584bf3e656a29e7bf6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0449e5541e30c584bf3e656a29e7bf6c">&#9670;&nbsp;</a></span>create_Child()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int create_Child </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structarguments.html">arguments</a>&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>creates a Child process and calls function create_grand_child. Reads from pipe p, prints output to stdout and writes to File provided by user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>struct containing info parsed by argument to be passed to create_grand_child.  global variable f: pointer to File parsed by argument and needed to write to file. global variable: progname.</td></tr>
  </table>
  </dd>
</dl>
<p>global variable quit, to check whether a signal was recieved. </p><dl class="section return"><dt>Returns</dt><dd>status of child process. 0 on success &gt;0 on error. </dd></dl>

</div>
</div>
<a id="a2c9793adeabf482728c5ae019f0a4426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9793adeabf482728c5ae019f0a4426">&#9670;&nbsp;</a></span>create_grand_child()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void create_grand_child </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structarguments.html">arguments</a>&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent_p</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>executes "program" as grandchild in a loop and writes output of stdout to the parents pipe. "program" is executed, as long as it's exitcode is "EXIT_SUCCESS". Otherwise "emergency" is executed once as a child. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>struct containing info parsed by argument. (program, emergency, intervall, offset are needed in this function) </td></tr>
    <tr><td class="paramname">parent_p</td><td>is the parents pipe. In the child process the content from the grandchild is written to the parent pipe.</td></tr>
  </table>
  </dd>
</dl>
<p>global variable quit, to check whether a signal was recieved. </p>

</div>
</div>
<a id="ac97d9d5060caaef4bc31e55aa3d92c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97d9d5060caaef4bc31e55aa3d92c76">&#9670;&nbsp;</a></span>free_resources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_resources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>closes the file provided by the user. </p>
<p>gloabal variable: f pointer to file parsed by argument. </p>

</div>
</div>
<a id="a306c92a9db24b8e8240561d8c96e3d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306c92a9db24b8e8240561d8c96e3d61">&#9670;&nbsp;</a></span>getRandExTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getRandExTime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intervall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns time until next execution of program </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interval</td><td>minimum wait until execution of program </td></tr>
    <tr><td class="paramname">offset</td><td>offset+interval is maximum wait until execution of program </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>random wait time between intervall and intervall+offset </dd></dl>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calls function parse_args, setup_signal_handler, create_Child, free_resources. Writes either "EMERGENCY SUCCESFULL" or "EMERGENCY FAILURE" to stdout and to the File parsed by command line. If a signal was caught, the signal ID is printed on stdout. </p>
<p>Program entry point </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The argument counter </td></tr>
    <tr><td class="paramname">argv</td><td>The argument vector</td></tr>
  </table>
  </dd>
</dl>
<p>global variable quit, to check whether a signal was recieved. </p><dl class="section return"><dt>Returns</dt><dd>Returns EXIT_SUCCESS if create_Child call exits with exitcode EXIT_SUCCESS. </dd></dl>

</div>
</div>
<a id="ac0a71a5197f7d9352206a931fd7c9080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a71a5197f7d9352206a931fd7c9080">&#9670;&nbsp;</a></span>parse_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structarguments.html">arguments</a> parse_args </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse command line options and/or sets default values. Calls usage if arguments parsed are incorrect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The argument counter </td></tr>
    <tr><td class="paramname">argv</td><td>The argument vector  global variable: progname </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success returns struct arguments containing all information parsed by command line </dd></dl>

</div>
</div>
<a id="ae710b6e1e3475f05843032f73a4dd7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae710b6e1e3475f05843032f73a4dd7a7">&#9670;&nbsp;</a></span>signal_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>is executed on recieve of SIGINT or SIGTERM signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>Signal number catched.</td></tr>
  </table>
  </dd>
</dl>
<p>global variable quit is set to signal id. </p>

</div>
</div>
<a id="a64a6014565bb3e03294ec4a952d5add0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a6014565bb3e03294ec4a952d5add0">&#9670;&nbsp;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>prints usage on stderr. Exits program with EXIT_FAILURE </p>
<p>global variable: progname </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3efb0e1a16208deecbd84c15401f7cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3efb0e1a16208deecbd84c15401f7cf8">&#9670;&nbsp;</a></span>f</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>File pointer to file parsed by argument </p>

</div>
</div>
<a id="ad785d8a8f8ff378aa21eb1fa7a6085df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad785d8a8f8ff378aa21eb1fa7a6085df">&#9670;&nbsp;</a></span>progname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* progname</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name of the program </p>

</div>
</div>
<a id="a0b6d3439424a03ac9ad9ea40abb12021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b6d3439424a03ac9ad9ea40abb12021">&#9670;&nbsp;</a></span>quit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile sig_atomic_t quit = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable is set upon receipt of a signal </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
