<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ProcDB: server.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ProcDB
   &#160;<span id="projectnumber">1.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This Program creates a shared memory object, if it does not already exist. Otherwise it exits with an error. After creation of the shared memory object it waits for clients to connect to it, and answers it's request using the same shared memory object. The database has to be parsed as a file through command line argument. The database is stored as linkedList. The server can handle the signal SIGINT, SIGTERM and SIGUSR1. Up on receipt of SIGINT or SIGTERM the server terminates, on SIGUSR1 it prints the whole database (content of the linkedList).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;strings.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;semaphore.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnode.html">node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmyshm.html">myshm</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab2965cfd3ad781fd1df28623a108bcc0"><td class="memItemLeft" align="right" valign="top"><a id="ab2965cfd3ad781fd1df28623a108bcc0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PERMISSION</b>&#160;&#160;&#160;(0600)</td></tr>
<tr class="separator:ab2965cfd3ad781fd1df28623a108bcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86393b21e6f74e9870d92149e7fe7f20"><td class="memItemLeft" align="right" valign="top"><a id="a86393b21e6f74e9870d92149e7fe7f20"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHM_NAME</b>&#160;&#160;&#160;&quot;01427540_shm&quot;</td></tr>
<tr class="separator:a86393b21e6f74e9870d92149e7fe7f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c301da480866e50a1d84bd811f809d6"><td class="memItemLeft" align="right" valign="top"><a id="a2c301da480866e50a1d84bd811f809d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_1</b>&#160;&#160;&#160;&quot;/01427540_sem_1&quot;</td></tr>
<tr class="separator:a2c301da480866e50a1d84bd811f809d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d55d86753ef2c0e80f8a5cc396b23dd"><td class="memItemLeft" align="right" valign="top"><a id="a9d55d86753ef2c0e80f8a5cc396b23dd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_2</b>&#160;&#160;&#160;&quot;/01427540_sem_2&quot;</td></tr>
<tr class="separator:a9d55d86753ef2c0e80f8a5cc396b23dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae537fef967d9fbfad304aec7b2b85948"><td class="memItemLeft" align="right" valign="top"><a id="ae537fef967d9fbfad304aec7b2b85948"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COUNT_OF</b>(x)&#160;&#160;&#160;(sizeof(x)/sizeof(x[0]))</td></tr>
<tr class="separator:ae537fef967d9fbfad304aec7b2b85948"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae9a21d6d42a362acf7978de7ad532d0b"><td class="memItemLeft" align="right" valign="top"><a id="ae9a21d6d42a362acf7978de7ad532d0b"></a>
typedef struct <a class="el" href="structnode.html">node</a>&#160;</td><td class="memItemRight" valign="bottom"><b>node_t</b></td></tr>
<tr class="separator:ae9a21d6d42a362acf7978de7ad532d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a64a6014565bb3e03294ec4a952d5add0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a64a6014565bb3e03294ec4a952d5add0">usage</a> ()</td></tr>
<tr class="memdesc:a64a6014565bb3e03294ec4a952d5add0"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints usage on stderr. Exits program with EXIT_FAILURE  <a href="#a64a6014565bb3e03294ec4a952d5add0">More...</a><br /></td></tr>
<tr class="separator:a64a6014565bb3e03294ec4a952d5add0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5f5746b9fa228b931a5f41ca9aa8cc"><td class="memItemLeft" align="right" valign="top">static FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a3f5f5746b9fa228b931a5f41ca9aa8cc">parse_args</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3f5f5746b9fa228b931a5f41ca9aa8cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a new file discroptpr based on the parsed argument. Calls usage if argument count is incorrect or was unable to open file.  <a href="#a3f5f5746b9fa228b931a5f41ca9aa8cc">More...</a><br /></td></tr>
<tr class="separator:a3f5f5746b9fa228b931a5f41ca9aa8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e8c03902add8c2745947279f0aba7b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac3e8c03902add8c2745947279f0aba7b">push</a> (char *command, unsigned int pid, unsigned int cpu, unsigned int mem, unsigned int runtime)</td></tr>
<tr class="memdesc:ac3e8c03902add8c2745947279f0aba7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">pushes a new node to the linked list  <a href="#ac3e8c03902add8c2745947279f0aba7b">More...</a><br /></td></tr>
<tr class="separator:ac3e8c03902add8c2745947279f0aba7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b65d21fe80f38bcd6b8883c5b4d945d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a5b65d21fe80f38bcd6b8883c5b4d945d">free_list</a> (void)</td></tr>
<tr class="memdesc:a5b65d21fe80f38bcd6b8883c5b4d945d"><td class="mdescLeft">&#160;</td><td class="mdescRight">frees linkedList.  <a href="#a5b65d21fe80f38bcd6b8883c5b4d945d">More...</a><br /></td></tr>
<tr class="separator:a5b65d21fe80f38bcd6b8883c5b4d945d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd10fab586f1d2f99e3baf123608f79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#adfd10fab586f1d2f99e3baf123608f79">free_resources</a> (void)</td></tr>
<tr class="memdesc:adfd10fab586f1d2f99e3baf123608f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlinks shared memory object and semaphores. Calls free_list  <a href="#adfd10fab586f1d2f99e3baf123608f79">More...</a><br /></td></tr>
<tr class="separator:adfd10fab586f1d2f99e3baf123608f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaca58c574e537c5d28b980b09d63380"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#afaca58c574e537c5d28b980b09d63380">csvParseAndPush</a> (FILE *file)</td></tr>
<tr class="memdesc:afaca58c574e537c5d28b980b09d63380"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads from file and pushes to linked list. Prints error message exits program, if there is mistake in the file.  <a href="#afaca58c574e537c5d28b980b09d63380">More...</a><br /></td></tr>
<tr class="separator:afaca58c574e537c5d28b980b09d63380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30037b01f977dfabd9329fdb7be218f6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a30037b01f977dfabd9329fdb7be218f6">create_shared</a> (void)</td></tr>
<tr class="memdesc:a30037b01f977dfabd9329fdb7be218f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">creats shared memory object and semaphores. Fails, if shared memory object or semaphores already exist. Calls communicate function.  <a href="#a30037b01f977dfabd9329fdb7be218f6">More...</a><br /></td></tr>
<tr class="separator:a30037b01f977dfabd9329fdb7be218f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a036df29cc9bab1b0b1bf1156e8737"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad1a036df29cc9bab1b0b1bf1156e8737">communicate</a> (struct <a class="el" href="structmyshm.html">myshm</a> *shared)</td></tr>
<tr class="memdesc:ad1a036df29cc9bab1b0b1bf1156e8737"><td class="mdescLeft">&#160;</td><td class="mdescRight">synchronises communication between client and server and checks if signals have been recieved. Calls fetch_info and writes answer to the request into the shared memory object.  <a href="#ad1a036df29cc9bab1b0b1bf1156e8737">More...</a><br /></td></tr>
<tr class="separator:ad1a036df29cc9bab1b0b1bf1156e8737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2978fb69bb6f5ac2f0a5f6ce32aa0dd"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ab2978fb69bb6f5ac2f0a5f6ce32aa0dd">fetch_info</a> (enum OPERATION op, enum REQUEST req, int pid_val)</td></tr>
<tr class="memdesc:ab2978fb69bb6f5ac2f0a5f6ce32aa0dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">calls the function for the desired operation.  <a href="#ab2978fb69bb6f5ac2f0a5f6ce32aa0dd">More...</a><br /></td></tr>
<tr class="separator:ab2978fb69bb6f5ac2f0a5f6ce32aa0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b34e3b6928903a04d669fbe96f0df1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad2b34e3b6928903a04d669fbe96f0df1">print_list</a> (void)</td></tr>
<tr class="memdesc:ad2b34e3b6928903a04d669fbe96f0df1"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints the whole linked list line by line  <a href="#ad2b34e3b6928903a04d669fbe96f0df1">More...</a><br /></td></tr>
<tr class="separator:ad2b34e3b6928903a04d669fbe96f0df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b52ab686cd8e1f66df12b777a1312a"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a76b52ab686cd8e1f66df12b777a1312a">get_pid_info</a> (int pid_val, enum REQUEST req)</td></tr>
<tr class="memdesc:a76b52ab686cd8e1f66df12b777a1312a"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a the request of the desired pid by iterating over the linkedList or returns a message if no such pid was found.  <a href="#a76b52ab686cd8e1f66df12b777a1312a">More...</a><br /></td></tr>
<tr class="separator:a76b52ab686cd8e1f66df12b777a1312a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf194395ac7a36099c2050cab209457f"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#adf194395ac7a36099c2050cab209457f">sum_request</a> (enum REQUEST req)</td></tr>
<tr class="memdesc:adf194395ac7a36099c2050cab209457f"><td class="mdescLeft">&#160;</td><td class="mdescRight">sums all entries of the the desired request.  <a href="#adf194395ac7a36099c2050cab209457f">More...</a><br /></td></tr>
<tr class="separator:adf194395ac7a36099c2050cab209457f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b42c50f24d97f6638dd07d3265617eb"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a0b42c50f24d97f6638dd07d3265617eb">max_request</a> (enum REQUEST req)</td></tr>
<tr class="memdesc:a0b42c50f24d97f6638dd07d3265617eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">searches and returns the maximum value of the the desired request by iterating over the linkedlist.  <a href="#a0b42c50f24d97f6638dd07d3265617eb">More...</a><br /></td></tr>
<tr class="separator:a0b42c50f24d97f6638dd07d3265617eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4317f519ab0516f279fdb84a1f1548f4"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a4317f519ab0516f279fdb84a1f1548f4">min_request</a> (enum REQUEST req)</td></tr>
<tr class="memdesc:a4317f519ab0516f279fdb84a1f1548f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">searches and returns the minimum value of the the desired request by iterating over the linkedlist.  <a href="#a4317f519ab0516f279fdb84a1f1548f4">More...</a><br /></td></tr>
<tr class="separator:a4317f519ab0516f279fdb84a1f1548f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715891f03f1ea35330027f0ad8cbc0b6"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a715891f03f1ea35330027f0ad8cbc0b6">avg_request</a> (enum REQUEST req)</td></tr>
<tr class="memdesc:a715891f03f1ea35330027f0ad8cbc0b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates and returns the arithmetic average value of the the desired request by iterating over the linkedlist.  <a href="#a715891f03f1ea35330027f0ad8cbc0b6">More...</a><br /></td></tr>
<tr class="separator:a715891f03f1ea35330027f0ad8cbc0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21f373306961eb67c9ee28e8d0b9366"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac21f373306961eb67c9ee28e8d0b9366">convert_time</a> (unsigned int seconds, char **answer)</td></tr>
<tr class="memdesc:ac21f373306961eb67c9ee28e8d0b9366"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts time in seconds to hour minutes seconds format  <a href="#ac21f373306961eb67c9ee28e8d0b9366">More...</a><br /></td></tr>
<tr class="separator:ac21f373306961eb67c9ee28e8d0b9366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647fd58936bc236d12e4eaf77c429d86"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a647fd58936bc236d12e4eaf77c429d86">convert_answer_format</a> (char **answer, enum REQUEST req, unsigned int(*op_function)(enum REQUEST req))</td></tr>
<tr class="memdesc:a647fd58936bc236d12e4eaf77c429d86"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates final answer format.  <a href="#a647fd58936bc236d12e4eaf77c429d86">More...</a><br /></td></tr>
<tr class="separator:a647fd58936bc236d12e4eaf77c429d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6140bf6da3b415eced0d0a0cac43d7fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a6140bf6da3b415eced0d0a0cac43d7fa">setup_signal_handler</a> (void)</td></tr>
<tr class="memdesc:a6140bf6da3b415eced0d0a0cac43d7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets up signal handler to ignore all signals that can be caught except the signals SIGINT, SIGTERM and SIGUSR1  <a href="#a6140bf6da3b415eced0d0a0cac43d7fa">More...</a><br /></td></tr>
<tr class="separator:a6140bf6da3b415eced0d0a0cac43d7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae710b6e1e3475f05843032f73a4dd7a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ae710b6e1e3475f05843032f73a4dd7a7">signal_handler</a> (int sig)</td></tr>
<tr class="memdesc:ae710b6e1e3475f05843032f73a4dd7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets global variable quit to the signal id received  <a href="#ae710b6e1e3475f05843032f73a4dd7a7">More...</a><br /></td></tr>
<tr class="separator:ae710b6e1e3475f05843032f73a4dd7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">calls atexit() to set function <a class="el" href="server_8c.html#adfd10fab586f1d2f99e3baf123608f79" title="unlinks shared memory object and semaphores. Calls free_list ">free_resources()</a> as exit function. Calls <a class="el" href="server_8c.html#a6140bf6da3b415eced0d0a0cac43d7fa" title="sets up signal handler to ignore all signals that can be caught except the signals SIGINT...">setup_signal_handler()</a>, <a class="el" href="server_8c.html#a3f5f5746b9fa228b931a5f41ca9aa8cc" title="Opens a new file discroptpr based on the parsed argument. Calls usage if argument count is incorrect ...">parse_args()</a> and <a class="el" href="server_8c.html#a30037b01f977dfabd9329fdb7be218f6" title="creats shared memory object and semaphores. Fails, if shared memory object or semaphores already exis...">create_shared()</a>.  <a href="#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0b6d3439424a03ac9ad9ea40abb12021"><td class="memItemLeft" align="right" valign="top">volatile sig_atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a0b6d3439424a03ac9ad9ea40abb12021">quit</a> = 0</td></tr>
<tr class="separator:a0b6d3439424a03ac9ad9ea40abb12021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9513cdd45a8c7a0435f6fb6cb8a3fd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnode.html">node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad9513cdd45a8c7a0435f6fb6cb8a3fd6">head</a> = NULL</td></tr>
<tr class="separator:ad9513cdd45a8c7a0435f6fb6cb8a3fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac254151e0dbe47f8af01f2aa5c1f8a9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac254151e0dbe47f8af01f2aa5c1f8a9d">shmfd</a> = -1</td></tr>
<tr class="separator:ac254151e0dbe47f8af01f2aa5c1f8a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6c8163eac67a5c256369292bf98c34"><td class="memItemLeft" align="right" valign="top">sem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a8d6c8163eac67a5c256369292bf98c34">s1</a> = SEM_FAILED</td></tr>
<tr class="separator:a8d6c8163eac67a5c256369292bf98c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c0e894d797b7b68c433d0f35c5aa75"><td class="memItemLeft" align="right" valign="top"><a id="a41c0e894d797b7b68c433d0f35c5aa75"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>s2</b> = SEM_FAILED</td></tr>
<tr class="separator:a41c0e894d797b7b68c433d0f35c5aa75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad785d8a8f8ff378aa21eb1fa7a6085df"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a></td></tr>
<tr class="separator:ad785d8a8f8ff378aa21eb1fa7a6085df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This Program creates a shared memory object, if it does not already exist. Otherwise it exits with an error. After creation of the shared memory object it waits for clients to connect to it, and answers it's request using the same shared memory object. The database has to be parsed as a file through command line argument. The database is stored as linkedList. The server can handle the signal SIGINT, SIGTERM and SIGUSR1. Up on receipt of SIGINT or SIGTERM the server terminates, on SIGUSR1 it prints the whole database (content of the linkedList). </p>
<dl class="section author"><dt>Author</dt><dd>Aaron Duxler 01427540 <a href="#" onclick="location.href='mai'+'lto:'+'e14'+'27'+'540'+'@s'+'tud'+'en'+'t.t'+'uw'+'ien'+'.a'+'c.a'+'t'; return false;">e1427<span style="display: none;">.nosp@m.</span>540@<span style="display: none;">.nosp@m.</span>stude<span style="display: none;">.nosp@m.</span>nt.t<span style="display: none;">.nosp@m.</span>uwien<span style="display: none;">.nosp@m.</span>.ac.<span style="display: none;">.nosp@m.</span>at</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>29.05.2017 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a715891f03f1ea35330027f0ad8cbc0b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a715891f03f1ea35330027f0ad8cbc0b6">&#9670;&nbsp;</a></span>avg_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int avg_request </td>
          <td>(</td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>calculates and returns the arithmetic average value of the the desired request by iterating over the linkedlist. </p>
<p>global variable: head </p><dl class="section return"><dt>Returns</dt><dd>returns the arithmetic average value for the disired request as an unsigned int. </dd></dl>

</div>
</div>
<a id="ad1a036df29cc9bab1b0b1bf1156e8737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a036df29cc9bab1b0b1bf1156e8737">&#9670;&nbsp;</a></span>communicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void communicate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmyshm.html">myshm</a> *&#160;</td>
          <td class="paramname"><em>shared</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>synchronises communication between client and server and checks if signals have been recieved. Calls fetch_info and writes answer to the request into the shared memory object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shared</td><td>points to shared memory object.</td></tr>
  </table>
  </dd>
</dl>
<p>global variable: progname, quit, s1, s2 </p>

</div>
</div>
<a id="a647fd58936bc236d12e4eaf77c429d86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a647fd58936bc236d12e4eaf77c429d86">&#9670;&nbsp;</a></span>convert_answer_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * convert_answer_format </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>answer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int(*)(enum REQUEST req)&#160;</td>
          <td class="paramname"><em>op_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>creates final answer format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">answer</td><td>is the buffer where the answer will be saved. </td></tr>
    <tr><td class="paramname">req</td><td>defines the request </td></tr>
    <tr><td class="paramname">op_function</td><td>function pointer to a numeric operation function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns the converted answer. </dd></dl>

</div>
</div>
<a id="ac21f373306961eb67c9ee28e8d0b9366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21f373306961eb67c9ee28e8d0b9366">&#9670;&nbsp;</a></span>convert_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void convert_time </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>seconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>answer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>converts time in seconds to hour minutes seconds format </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seconds</td><td>contains time i seconds </td></tr>
    <tr><td class="paramname">answer</td><td>is the char array to save the calculated time </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30037b01f977dfabd9329fdb7be218f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30037b01f977dfabd9329fdb7be218f6">&#9670;&nbsp;</a></span>create_shared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void create_shared </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>creats shared memory object and semaphores. Fails, if shared memory object or semaphores already exist. Calls communicate function. </p>
<p>global variable: progname, s1, s2, shmfd </p>

</div>
</div>
<a id="afaca58c574e537c5d28b980b09d63380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaca58c574e537c5d28b980b09d63380">&#9670;&nbsp;</a></span>csvParseAndPush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void csvParseAndPush </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reads from file and pushes to linked list. Prints error message exits program, if there is mistake in the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>pointer to parsed file;</td></tr>
  </table>
  </dd>
</dl>
<p>global variable: progname </p>

</div>
</div>
<a id="ab2978fb69bb6f5ac2f0a5f6ce32aa0dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2978fb69bb6f5ac2f0a5f6ce32aa0dd">&#9670;&nbsp;</a></span>fetch_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * fetch_info </td>
          <td>(</td>
          <td class="paramtype">enum OPERATION&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>calls the function for the desired operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>operation code (sum, min, avg, ...) </td></tr>
    <tr><td class="paramname">req</td><td>request code (cpu, mem, time, ...) </td></tr>
    <tr><td class="paramname">pid_val</td><td>pid if operation is pid</td></tr>
  </table>
  </dd>
</dl>
<p>global variable: progname </p><dl class="section return"><dt>Returns</dt><dd>string as answer for the client </dd></dl>

</div>
</div>
<a id="a5b65d21fe80f38bcd6b8883c5b4d945d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b65d21fe80f38bcd6b8883c5b4d945d">&#9670;&nbsp;</a></span>free_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>frees linkedList. </p>
<p>global variable: head </p>

</div>
</div>
<a id="adfd10fab586f1d2f99e3baf123608f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd10fab586f1d2f99e3baf123608f79">&#9670;&nbsp;</a></span>free_resources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_resources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>unlinks shared memory object and semaphores. Calls free_list </p>
<p>global variable: progname </p>

</div>
</div>
<a id="a76b52ab686cd8e1f66df12b777a1312a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76b52ab686cd8e1f66df12b777a1312a">&#9670;&nbsp;</a></span>get_pid_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * get_pid_info </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns a the request of the desired pid by iterating over the linkedList or returns a message if no such pid was found. </p>
<p>global variable: head </p><dl class="section return"><dt>Returns</dt><dd>returns a the request of the desired pid or a message if no such pid was found. </dd></dl>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calls atexit() to set function <a class="el" href="server_8c.html#adfd10fab586f1d2f99e3baf123608f79" title="unlinks shared memory object and semaphores. Calls free_list ">free_resources()</a> as exit function. Calls <a class="el" href="server_8c.html#a6140bf6da3b415eced0d0a0cac43d7fa" title="sets up signal handler to ignore all signals that can be caught except the signals SIGINT...">setup_signal_handler()</a>, <a class="el" href="server_8c.html#a3f5f5746b9fa228b931a5f41ca9aa8cc" title="Opens a new file discroptpr based on the parsed argument. Calls usage if argument count is incorrect ...">parse_args()</a> and <a class="el" href="server_8c.html#a30037b01f977dfabd9329fdb7be218f6" title="creats shared memory object and semaphores. Fails, if shared memory object or semaphores already exis...">create_shared()</a>. </p>
<p>Program entry point </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The argument counter </td></tr>
    <tr><td class="paramname">argv</td><td>The argument vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns EXIT_SUCCESS if atexit call is successful and non of the called functions has a failure. Otherwise it returns EXIT_FAILURE. </dd></dl>

</div>
</div>
<a id="a0b42c50f24d97f6638dd07d3265617eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b42c50f24d97f6638dd07d3265617eb">&#9670;&nbsp;</a></span>max_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int max_request </td>
          <td>(</td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>searches and returns the maximum value of the the desired request by iterating over the linkedlist. </p>
<p>global variable: head </p><dl class="section return"><dt>Returns</dt><dd>returns the maximum value for the disired request. </dd></dl>

</div>
</div>
<a id="a4317f519ab0516f279fdb84a1f1548f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4317f519ab0516f279fdb84a1f1548f4">&#9670;&nbsp;</a></span>min_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int min_request </td>
          <td>(</td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>searches and returns the minimum value of the the desired request by iterating over the linkedlist. </p>
<p>global variable: head </p><dl class="section return"><dt>Returns</dt><dd>returns the minimum value for the disired request. </dd></dl>

</div>
</div>
<a id="a3f5f5746b9fa228b931a5f41ca9aa8cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f5f5746b9fa228b931a5f41ca9aa8cc">&#9670;&nbsp;</a></span>parse_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static FILE * parse_args </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens a new file discroptpr based on the parsed argument. Calls usage if argument count is incorrect or was unable to open file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The argument counter </td></tr>
    <tr><td class="paramname">argv</td><td>The argument vector</td></tr>
  </table>
  </dd>
</dl>
<p>global variable progname </p><dl class="section return"><dt>Returns</dt><dd>on success returns struct file discriptor of parsed file </dd></dl>

</div>
</div>
<a id="ad2b34e3b6928903a04d669fbe96f0df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b34e3b6928903a04d669fbe96f0df1">&#9670;&nbsp;</a></span>print_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void print_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>prints the whole linked list line by line </p>
<p>global variable: head </p>

</div>
</div>
<a id="ac3e8c03902add8c2745947279f0aba7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3e8c03902add8c2745947279f0aba7b">&#9670;&nbsp;</a></span>push()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void push </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>runtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>pushes a new node to the linked list </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td></td></tr>
    <tr><td class="paramname">pid</td><td></td></tr>
    <tr><td class="paramname">cpu</td><td></td></tr>
    <tr><td class="paramname">mem</td><td></td></tr>
    <tr><td class="paramname">runtime</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>global variables: head, progname </p>

</div>
</div>
<a id="a6140bf6da3b415eced0d0a0cac43d7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6140bf6da3b415eced0d0a0cac43d7fa">&#9670;&nbsp;</a></span>setup_signal_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_signal_handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets up signal handler to ignore all signals that can be caught except the signals SIGINT, SIGTERM and SIGUSR1 </p>
<p>global variable progname </p>

</div>
</div>
<a id="ae710b6e1e3475f05843032f73a4dd7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae710b6e1e3475f05843032f73a4dd7a7">&#9670;&nbsp;</a></span>signal_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets global variable quit to the signal id received </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>Signal number catched.</td></tr>
  </table>
  </dd>
</dl>
<p>global variable quit </p>

</div>
</div>
<a id="adf194395ac7a36099c2050cab209457f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf194395ac7a36099c2050cab209457f">&#9670;&nbsp;</a></span>sum_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int sum_request </td>
          <td>(</td>
          <td class="paramtype">enum REQUEST&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sums all entries of the the desired request. </p>
<p>global variable: head </p><dl class="section return"><dt>Returns</dt><dd>returns the sum of all entries for the request. </dd></dl>

</div>
</div>
<a id="a64a6014565bb3e03294ec4a952d5add0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a6014565bb3e03294ec4a952d5add0">&#9670;&nbsp;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>prints usage on stderr. Exits program with EXIT_FAILURE </p>
<p>global variable: progname </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad9513cdd45a8c7a0435f6fb6cb8a3fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9513cdd45a8c7a0435f6fb6cb8a3fd6">&#9670;&nbsp;</a></span>head</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnode.html">node_t</a>* head = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stores address of the first element (head) of the LinkedList </p>

</div>
</div>
<a id="ad785d8a8f8ff378aa21eb1fa7a6085df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad785d8a8f8ff378aa21eb1fa7a6085df">&#9670;&nbsp;</a></span>progname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* progname</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name of the program </p>

</div>
</div>
<a id="a0b6d3439424a03ac9ad9ea40abb12021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b6d3439424a03ac9ad9ea40abb12021">&#9670;&nbsp;</a></span>quit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile sig_atomic_t quit = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable is set upon receipt of a signal </p>

</div>
</div>
<a id="a8d6c8163eac67a5c256369292bf98c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d6c8163eac67a5c256369292bf98c34">&#9670;&nbsp;</a></span>s1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sem_t* s1 = SEM_FAILED</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stores addresses of the semaphores 1 and 2 on succesful call of sem_open (SEM_FAILED otherwise); </p>

</div>
</div>
<a id="ac254151e0dbe47f8af01f2aa5c1f8a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac254151e0dbe47f8af01f2aa5c1f8a9d">&#9670;&nbsp;</a></span>shmfd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shmfd = -1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stores return value of shm_open (non negativ file discriptor on success) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
